---
const features = [
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>`,
    title: "Built-in Issue Tracker",
    description: "Dependency-tracked issues with topological ordering. Drag an issue into chat — the agent knows what to build.",
    highlight: true,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"/><path d="M14 2v6h6"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/></svg>`,
    title: "Built-in Docs & PRDs",
    description: "Write specs with Opus, implement with Codex. All structured.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>`,
    title: "Planner Agent",
    description: "A read-only agent that explores your codebase and drafts implementation plans and issue breakdowns.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M8 9h8"/><path d="M8 13h6"/></svg>`,
    title: "Supervised Sessions",
    description: "Agents report progress as threaded summaries. Review what they did without reading every line.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>`,
    title: "Full Visibility",
    description: "See every tool call, file edit, and decision. No black boxes.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg>`,
    title: "Desktop Notifications",
    description: "Instant alerts when agents need approval. Zero tab-checking.",
    highlight: true,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>`,
    title: "Visual MCP Config",
    description: "Configure tools and permissions without touching JSON files.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>`,
    title: "Purpose-Built UI",
    description: "Designed for AI workflows — not a chat bolted onto an editor.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2 3 14h9l-1 8 10-12h-9l1-8z"/></svg>`,
    title: "Lightweight Runtime",
    description: "Agents spin up on demand, terminate cleanly. No idle processes.",
    highlight: false,
  },
  {
    icon: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg>`,
    title: "Process Manager",
    description: "Start, stop, tail, and grep your dev processes from one place.",
    highlight: false,
  },
];
---

<section id="features" class="py-16 md:py-24 px-4 md:px-6 relative">
  <!-- Top accent line -->
  <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[1px] bg-gradient-to-r from-transparent via-[rgba(var(--color-accent-rgb),0.15)] to-transparent"></div>

  <div class="max-w-5xl mx-auto">
    <!-- Section header -->
    <div class="text-center mb-10 md:mb-16">
      <div class="section-badge">
        <span class="section-badge-dot"></span>
        Features
      </div>
      <h2 class="text-2xl md:text-4xl font-bold text-theme-primary mb-3 md:mb-4">
        Built for the full workflow.<br /><span class="text-theme-primary/40">Not just the chat.</span>
      </h2>
      <p class="text-sm md:text-base text-theme-primary/50 max-w-2xl mx-auto">
        From planning to implementation &mdash; every feature supports both you <em>and</em> your agents.
      </p>
    </div>

    <!-- Feature grid -->
    <div class="feature-grid">
      {features.map((feature, i) => (
        <div class={`feature-card ${feature.highlight ? 'feature-card-highlight' : ''}`}>
          <div class="feature-icon-wrap">
            <div class="feature-icon" set:html={feature.icon}></div>
          </div>
          <div class="feature-text">
            <h3 class="feature-title">{feature.title}</h3>
            <p class="feature-desc">{feature.description}</p>
          </div>
        </div>
      ))}
    </div>

  </div>
</section>

<style>
  .section-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-accent);
    margin-bottom: 1rem;
    padding: 0.375rem 1rem;
    border-radius: 9999px;
    background: rgba(var(--color-accent-rgb), 0.08);
    border: 1px solid rgba(var(--color-accent-rgb), 0.15);
  }

  .section-badge-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--color-accent);
  }

  /* ===== Feature Grid ===== */
  .feature-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.625rem;
  }

  @media (min-width: 480px) {
    .feature-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem;
    }
  }

  @media (min-width: 768px) {
    .feature-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }
  }

  /* ===== Feature Card ===== */
  .feature-card {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    border-radius: 0.875rem;
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  @media (min-width: 480px) {
    .feature-card {
      flex-direction: column;
      gap: 0.75rem;
      padding: 1.125rem;
    }
  }

  @media (min-width: 768px) {
    .feature-card {
      padding: 1.25rem;
      gap: 1rem;
      border-radius: 1rem;
    }
  }

  .feature-card::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(circle at 50% 0%, rgba(var(--color-accent-rgb), 0.06) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .feature-card:hover::after { opacity: 1; }

  .feature-card:hover {
    border-color: rgba(var(--color-accent-rgb), 0.2);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  }

  /* Highlight cards span 2 cols on tablet+ */
  .feature-card-highlight {
    border-color: rgba(var(--color-accent-rgb), 0.15);
    background: rgba(var(--color-accent-rgb), 0.03);
  }

  @media (min-width: 768px) {
    .feature-card-highlight {
      grid-column: span 2;
      flex-direction: row;
      align-items: flex-start;
    }
  }

  /* ===== Icon ===== */
  .feature-icon-wrap {
    flex-shrink: 0;
  }

  .feature-icon {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    color: var(--color-accent);
    background: linear-gradient(135deg, rgba(var(--color-accent-rgb), 0.12) 0%, rgba(var(--color-accent-strong-rgb), 0.08) 100%);
    border: 1px solid rgba(var(--color-accent-rgb), 0.15);
    transition: all 0.3s ease;
  }

  @media (min-width: 480px) {
    .feature-icon {
      width: 2.25rem;
      height: 2.25rem;
    }
  }

  .feature-card:hover .feature-icon {
    box-shadow: 0 0 16px rgba(var(--color-accent-rgb), 0.2);
    transform: scale(1.05);
  }

  /* ===== Text ===== */
  .feature-text {
    min-width: 0;
  }

  .feature-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: 0.125rem;
  }

  @media (min-width: 768px) {
    .feature-title {
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }
  }

  .feature-desc {
    font-size: 0.8125rem;
    line-height: 1.5;
    color: var(--color-secondary);
    opacity: 0.7;
  }

  @media (min-width: 768px) {
    .feature-desc {
      font-size: 0.875rem;
      line-height: 1.6;
    }
  }

</style>
