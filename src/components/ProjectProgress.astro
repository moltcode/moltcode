---
const roadmapItems = [
  { label: "Core Editor", status: "done" },
  { label: "Multi-Agent Support", status: "done" },
  { label: "Process Management", status: "done" },
  { label: "Issue Tracking", status: "done" },
  { label: "Mac Release", status: "done" },
  { label: "Stability & Polish", status: "in-progress" },
  { label: "Issue Graphs & Dependencies", status: "in-progress" },
  { label: "Persistent Agent Environments", status: "in-progress" },
  { label: "Agent-Controlled IDE", status: "in-progress" },
  { label: "Solving Context for CLI Agents", status: "pending" },
  { label: "Mobile Companion", status: "pending" },
];

const recentUpdates = [
  { date: "Feb 2026", text: "v0.0.1 Mac DMG released" },
  { date: "Jan 2026", text: "Process management added" },
  { date: "Jan 2026", text: "Multi-project support" },
  { date: "Dec 2025", text: "Issue tracking system" },
];
---

<aside class="project-progress">
  <div class="progress-inner">
    <div class="progress-section">
      <div class="roadmap-stepper">
        {roadmapItems.map((item, index) => (
          <div class={`stepper-item ${item.status}`}>
            <div class="stepper-marker">
              {item.status === 'done' ? (
                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
              ) : (
                <span class="stepper-dot"></span>
              )}
            </div>
            <span class="stepper-label">{item.label}</span>
          </div>
        ))}
      </div>
    </div>

    <div class="progress-section">
      <h4 class="section-label">Recent Updates</h4>
      <ul class="updates-list">
        {recentUpdates.map((update) => (
          <li class="update-item">
            <span class="update-date">{update.date}</span>
            <span class="update-text">{update.text}</span>
          </li>
        ))}
      </ul>
    </div>

    <div class="progress-section">
      <a href="https://github.com/moltcode/moltcode" target="_blank" rel="noopener" class="github-link">
        <svg class="github-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
        </svg>
        Follow on GitHub
      </a>
    </div>
  </div>
</aside>

<style>
  .project-progress {
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
    background: rgba(11, 9, 7, 0.8);
    border-left: 1px solid var(--color-border);
    backdrop-filter: blur(8px);
  }

  .progress-inner {
    padding: 5rem 1rem 1.5rem;
  }


  .progress-section {
    margin-bottom: 1.5rem;
  }

  .section-label {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--color-muted);
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Stepper styles */
  .roadmap-stepper {
    position: relative;
    padding-left: 0.75rem;
  }

  .stepper-item {
    position: relative;
    padding-bottom: 0.875rem;
    padding-left: 1rem;
    display: flex;
    align-items: flex-start;
  }

  .stepper-item:last-child {
    padding-bottom: 0;
  }

  /* Vertical line */
  .stepper-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.4rem;
    bottom: 0;
    width: 2px;
    background: rgba(244, 233, 223, 0.1);
  }

  .stepper-item:last-child::before {
    display: none;
  }

  .stepper-marker {
    position: absolute;
    left: -0.375rem;
    top: 0.125rem;
    width: 0.875rem;
    height: 0.875rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
  }

  .stepper-item.done .stepper-marker {
    background: #28c840;
    color: #0b0907;
  }

  .stepper-item.done::before {
    background: #28c840;
  }

  .stepper-item.in-progress .stepper-marker {
    background: var(--color-accent);
    box-shadow: 0 0 8px rgba(231, 159, 116, 0.5);
  }

  .stepper-item.in-progress::before {
    background: linear-gradient(to bottom, var(--color-accent), rgba(244, 233, 223, 0.1));
  }

  .stepper-item.pending .stepper-marker {
    background: rgba(244, 233, 223, 0.08);
    border: 1.5px solid rgba(244, 233, 223, 0.15);
  }

  .stepper-dot {
    width: 4px;
    height: 4px;
    border-radius: 50%;
  }

  .stepper-item.in-progress .stepper-dot {
    background: #0b0907;
    animation: pulse-dot 2s infinite;
  }

  .stepper-item.pending .stepper-dot {
    background: rgba(244, 233, 223, 0.25);
  }

  @keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  .stepper-label {
    font-size: 0.8125rem;
    line-height: 1.3;
  }

  .stepper-item.done .stepper-label {
    color: rgba(244, 233, 223, 0.5);
  }

  .stepper-item.in-progress .stepper-label {
    color: var(--color-accent);
    font-weight: 500;
  }

  .stepper-item.pending .stepper-label {
    color: rgba(244, 233, 223, 0.4);
  }

  .updates-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .update-item {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--color-border);
  }

  .update-item:last-child {
    border-bottom: none;
  }

  .update-date {
    font-size: 0.6875rem;
    color: var(--color-muted);
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }

  .update-text {
    font-size: 0.8125rem;
    color: var(--color-secondary);
  }

  .github-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 0.75rem;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    color: var(--color-secondary);
    font-size: 0.8125rem;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .github-link:hover {
    border-color: var(--color-accent);
    color: var(--color-primary);
  }

  .github-icon {
    width: 16px;
    height: 16px;
  }

  /* Hide on mobile */
  @media (max-width: 1024px) {
    .project-progress {
      display: none;
    }
  }
</style>
